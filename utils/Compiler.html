<html>
    <header>
        <script type="module" >
            import { compileString, Runner } from "../dist/compose-browser.js";

            window.compileAndRun = function() {
                // debugger;
                const area = document.getElementById("compose");
                const code = area.value;
                const target = compileString(code);
                const source = target.asWasmSource();
                const runner = Runner.of(source);
                const result = runner.runFunction("main");
                console.log("result = " + result);
                area.value = code;
            }
        </script>
    </header>
    <body>
        <form >
            <label>Enter compose code (use print(s) for output)</label><br/>
            <textarea id="compose" cols="80" rows="30"></textarea><br/>
            <button type="button" onclick="compileAndRun()">Run</button>
        </form>
    </body>
</html>
